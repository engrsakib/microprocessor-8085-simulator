	PAGE 80
	TITLE-- DECIMAL COUNTER
;A FOUR DIGIT DECIMAL COUNTER IS SIMULATED BY THIS PROGRAME.IT IS UP COUNTEER
;STARTING FROM 0000.IT INCREMENTS BY ONE.THE SPEED OF COUNTING CAN BE CHANGED
;BY CHANGING DELAY COUNT.THE DISPLAY CAN BE FROZEN BY PRESSING F KEY.CAN
;BE RESTARTED BY PRESSING S KEY.PRESSING ESC  KEY RETURNS TO COMMAND MODE.
;
TYBS08	SEGMENT
	ASSUME CS:TYBS08, DS:TYBS08 ,ES:TYBS08 
	ORG 100H		;COM FORMAT IS RECOMMENDED.
STRT:	JMP SKIP_DATA			;SKIP LOOK UP/ DATA BASES IF ANY
;ON KIT YOU NEED TO DO INIT FOR SP [TO SEPARATE STACK OF YOUR PROGRAME FROM
;MONITORS],DS AS SHOWN BELOW.SS,ES ARE SET TO 0000 AT POWER ON BY MONITOR.
;YOU CAN OFCOURSE CHANGE IT BY ADDING A FEW MORE MOVE`S.
;BUT WHILE WORKING ON PC YOU CAN`T TOUCH SEGMENT REGISTERS SINCE THEY ARE
;SET BY DOS LOADER,SO MANAGE THESE INSTRUCTIONS AS SHOWN IN COMMENT FIELD.  
SKIP_DATA:MOV AX,10FFH			;INIT OF SP FOR KIT
  	MOV  AX,AX			;MOV AX,AX   ON PC
	PUSH CS				;INIT FOR DS 
	POP DS				;
					;LOAD KIT INT S (A0-BF) IN PC USING
	CALL LDINPC
	 				;*******************
				;PLACE ABOVE CALL IN PLACE OF 3 NOP`S
	MOV DX,0000H			;INIT OF DECIMAL COUNTER
	INT 0ACH				; CALL CRLF
LOOP1:	INT 0ABH				;BRING CURSOR TO LEFTMOST POS BY
					;FEEDING CR ONLY
	MOV AL,04H			;DISPLAYS GIVEN NO OF(AL) DIGITS
					;FROM PRESENT CURSOR POS
	INT 0AEH
	MOV AL,DL			;FETCH LOWER BYTE OF COUNTER
	ADD AL,01H			;INCREMENT IT
	DAA				;DECIMALY
	MOV DL,AL			;SAVE LOWER BYTE
	MOV AL,DH			;FETCH UPPER BYTE OF COUNTER
	ADC AL,00H			;INCREMENT IF CARRY
	DAA
	MOV DH,AL			;SAVE UPPER BYTE
	MOV CX,4000H			;DELAY COUNT
	INT 0AAH
	MOV AH,0BH
	INT 0A1H				;TEST KBD OR CONSOL IN TO CHECK
	CMP AL,00H			;IF ANY KEY PRESSED
	JZ LOOP1			;NO CONTINUE COUNTING
	MOV AH,08H			;READ KBD TO FETCH KEY
	INT 0A1H
	CMP AL,"F"			;CHECK IF FREEZE (F) KEY PRESSED
	JZ SKP01
	CMP AL,1BH			;ESC KEY PRESSED?
	JNZ LOOP1
	INT 0A3H				;RETURN TO COMMAND MODE.ON PC 
					;RETURNS TO DOS AUTOMATICALLY
SKP01:	MOV AH,08H			;POLL KBD OR CONSOL IN CONTINUOUSLY
	INT 0A1H				;TILL KEY PRESSEDŠ	CMP AL,"S"			;S KEY PRESSED?
	JZ LOOP1
	JMP SKP01
;IF YOU ARE RUNNING YOUR SOFTWARE ON PC INSERT HERE -->INCLUDE KIT_INTS.ASM
				;		  **************************
TYBS08	ENDS			;READ FOR MORE INFO TITLE OF KIT_INTS.ASM
	END STRT
                                                                              
	 		 