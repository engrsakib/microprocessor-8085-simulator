@F	MACRO ROUT?			;FAR CALL
	CALL FAR PTR ROUT?
	ENDM
@N	MACRO ROUT? 			;NEAR CALL
	CALL NEAR PTR ROUT?
	ENDM
@PU	MACRO 
	;SAVE REGISTERS ALL
	PUSHF
	PUSH AX
	PUSH BX
	PUSH CX
	PUSH DX
	PUSH SI
	PUSH DI
	PUSH DS
	PUSH ES
	ENDM
@PO	MACRO			;ALL POP
;RESTORE REGS
	POP ES
	POP DS
	POP DI
	POP SI
	POP DX
	POP CX
	POP BX
	POP AX
	POPF
	ENDM
@P1	MACRO			;PUSH F-A-B-D
	PUSHF
	PUSH AX
	PUSH BX
	PUSH DX
	ENDM
@P2	MACRO			;POP D-B-A-F
	POP DX
	POP BX
	POP AX
	POPF
	ENDM
@M	MACRO R?,MSG?		;LOAD OFFSET
	MOV R?,OFFSET MSG?
	ENDM
@A	MACRO MSG?,BEGIN	;AUTTHORISATION IN CMD'S
	LOCAL SKP1
	@M BX,MSG?
	@N AUTHR
	JZ SKP1
	JMP KEYCHK1
SKP1:	JMP BEGIN
	ENDM
@MU	MACRO MSG?,NO,M1,M2,M3,M4,M5
	LOCAL SKP1,SKP2,SKP3
;USED IN MULTIPLE MESSAGE DISPLAY.MAX 5 OPTIONS
	@M BX,MSG?
	MOV AL,NO
	@N MULTMSG
	DEC AL
	JNZ SKP1
	JMP M1
SKP1:	DEC AL
	JNZ SKP2
	JMP M2
SKP2:	DEC AL
	JNZ SKP3
	JMP M3
SKP3:	DEC AL
	JNZ M5
	JMP M4
	ENDM
@R	MACRO MSG?,SP1,NO
;DON'T HAVE TO ENTER ALL PARAMETERS FOR RCVNO
	@N CRLF
	@M BX,MSG?
	MOV DX,ES:[SP1]
	MOV AL,NO
	MOV AH,10H
	@N RCVNO
	MOV ES:[SP1],DX
	ENDM
@PH	MACRO
	PUSH SI
	PUSH DI
	PUSH AX
	PUSH BX
	PUSH CX
	PUSH DX
	ENDM
@PP 	MACRO
	POP DX
	POP CX
	POP BX
	POP AX
	POP DI
	POP SI
	ENDM	
@EF	MACRO R?,SP1,D
	;MOV TO FETCH WITH ES
	MOV R?,ES:[SP1+D]
	ENDM
@ES	MACRO R?,SP1,D
	;MOV TO STORE WITH ES
	MOV ES:[SP1+D],R?
	ENDM

@SS	MACRO SP1,NO,D
	;USED IN REGISTER SAVING INTERRUPT INT65,FETCHES REGISTER/SEG
	;DATA FROM STACK,SAVES IN ARRAY DEFINED BY SP1
	MOV AX,[BP+NO]
	@ES AX,SP1,D
	ENDM
@PUA	MACRO
	;SIMULATES 186 INSt PUSHA-ALL
	PUSH SP
	PUSH BP
	MOV BP,SP
	INC WORD PTR [BP+2]		;SP ON STACK INCREMENTED
	INC WORD PTR [BP+2]
	PUSH AX
 	PUSH CX	
 	PUSH DX	
 	PUSH BX
 	PUSH SI
 	PUSH DI
	ENDM
@POA	MACRO
	;SIMULATES 186 INSt POPA
	POP DI
	POP SI
	POP BX
	POP DX
	POP CX
	POP AX
	POP BP
	POP SP			;POP SP RETURNS WITH VALUE ON STACK
	ENDM			;DOESN'T INCREMENT AFTER POPPING.
@DL	MACRO NO
	LOCAL SKP1
	MOV CX,NO		;DELAY CREATING MACRO
SKP1:	LOOP SKP1			;NO=FFFFH-->~220 mSEC
	ENDM
@SI	MACRO MSG?,NO
	;USED IN LDINTS
	@M SI,MSG?
	MOV AL,NO
	@N STOINT
	ENDM
@PSP	MACRO
	PUSHF
	PUSH ES
	PUSH AX
	PUSH DX
	PUSH CX
	ENDM
@PSO	MACRO
	POP CX
	POP DX
	POP AX
	POP ES
	POPF
	ENDM
@FAH	MACRO
	;USED IN ISR ROUTINES/COPIES FLAGS LOWER INTO AH
	PUSH CX
	PUSHF
	POP CX
	MOV AH,CL
	POP CX
	ENDM



